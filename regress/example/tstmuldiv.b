// This is to test various versions of muldiv
// for both speed and accuracy.

GET "libhdr"

LET testcase(i, a, b, c, expected, remainder) BE $(
    LET actual = muldiv(a, b, c)
    writef("%d: %20d x %20d / %20d = %20d remainder %20d ", i, a, b, c, actual, result2)
    writef(" -- expected %20d remainder %20d -- %s*n", expected, remainder, (actual = expected) & (result2 = remainder) -> "PASS", "FAIL")
$)

LET start() BE $(
   testcase(0, -7185983100392767762, -3794000374125205752, 6405301585221535154, 4256415128719442063, 6388749695781784322)
   testcase(1, 1522598101743415125, 2237911230602991692, 2868386110867739801, 1187929121074837415, 1577713811482687085)
   testcase(2, 2666519181925851490, -283033132160138240, 9139191981351863308, -82579868938689976, 7461844012031823008)
   testcase(3, -4920055443911415419, -2189455395175432278, -7853573772207493545, -1371635671693223051, -5820085033168211313)
   testcase(4, -1246703089924658063, -995431591650723947, 535637166596400547, 2316881124969936889, 507075367225656378)
   testcase(5, 3734469349261392774, -5935839450981858834, 80325279409461036, -275968047105446877316, 50886622478593860)
   testcase(6, -3960403763952156865, 2396072943994425746, 7721087671989027830, -1229025845740057847, 377173299706235720)
   testcase(7, -4227029019958566490, 187655399509338712, 7346486677265161602, -107973355744678619, 1351535889206226758)
   testcase(8, -397883337217795644, 1484055717391950867, 2481548458618964063, -237948624135139727, 1728071794002007453)
   testcase(9, 3040130973294566661, 8584933483064953032, -712455717610763843, -36632904390274289018, -252909093968310022)
   testcase(10, 2827534339539735161, 7627094823584594125, 3620405879943594287, 5956755468794894690, 2112103967925893095)
   testcase(11, -7396960680275475724, -2805558252117867265, -7191265288459167931, -2885807051290802558, -6622931175724592638)
   testcase(12, 6124270378439523042, -8740447475288836850, 5809823044514911562, -9213510146019826982, 4396491701317668184)
   testcase(13, -6506860032093364307, 3888929353473862700, 3287568804700013367, -7697091827120798287, 584199039012053429)
   testcase(14, 2971895421134182150, 7388507210769324869, 484835870836511921, 45289286683382597174, 322129493978977096)
   testcase(15, 3029404002254161741, -9081749278525007222, -1236084891501598977, 22257603665400770208, -452908232236216286)
   testcase(16, 7816709231262984500, 7321637522793385553, -3181282077671976177, -17989951917203627407, -2021201568525354539)
   testcase(17, -2385156938635213694, -7330997637725939747, -8313739336335369341, -2103214832141693220, -703104561502272602)
   testcase(18, -2397437798759744603, -3938506080380703908, 2637976538215135369, 3579381094169433073, 1516432556763349587)
   testcase(19, 477469041846783413, -5411244530543868639, -2133090296208009631, 1211248181003152898, -336860179206524269)
   testcase(20, -4109876013185973346, -6447102538878871309, 5922608779541560170, 4473837976706549889, 1922879074037808784)
   testcase(21, -4510784122222717082, -4316624897510538525, 633455121344138428, 30738346558735223080, 355654235556065810)
   testcase(22, 1956118599125522282, 583619490170347050, 7754223816949732114, 147226720105617447, 5979929367233375142)
   testcase(23, 1309870822053171604, 8585065871389180565, 6831299818087795337, 1646147525330683689, 191002855970518067)
   testcase(24, -1757562680816943878, -5293986985706547502, -890093816235415466, -10453408156638083673, -563958782951193862)
   testcase(25, 8192130755811540660, -5713487413781165560, 4767647626286056036, -9817343821158169233, 1243831683677470788)
   testcase(26, 9106108296413553088, 8100149801742739700, 2359129899947995352, 31266121171821925884, 1049464158794702432)
   testcase(27, 6103507102286334147, 9215838087232435286, -2637618334925018259, -21325652947640397722, -1809361886522494956)
   testcase(28, 906871891387412268, 465933395407555455, 4930269525452861081, 85703610598245542, 684165165303771038)
   testcase(29, 4347206981299612449, 2778626164963376510, -642803203184926356, -18791541490305093692, -114054239229973362)
   testcase(30, -1158771943017832546, 2695519672025822877, -4594046197266022558, 679900121521412887, -2799667563668049896)
   testcase(31, -4942267464760612090, 6365051606676144370, -7632685290103133911, 4121457425735511582, -4437453661369976098)
   testcase(32, -5906047767781076059, 4352431154505549426, -3675269661580244763, 6994225913054696258, -1878937007029595280)
   testcase(33, 1557976240736444330, -8082601794535448737, 3597996324620494692, -3499865042399173266, 14651054371992862)
   testcase(34, -2585652549102408702, -6524346406616212009, 7854123491320145581, 2147877218398413324, 7538573417908381074)
   testcase(35, 5110500724274297651, 5805052729394218821, 8450406092730821254, 3510686451333912938, 1501420757504305219)
   testcase(36, 530154978225822545, 4709981455643746382, -1008586517423532459, -2475761943000743877, -727164284737221353)
   testcase(37, 3498247174771322179, 4285484820041618850, -6371808850589483553, -2352814642713118373, -1452401406156145119)
   testcase(38, 8817382282132347059, -1513957389866967538, -1810168471513199965, 7374529650357458555, -225441897987820167)
   testcase(39, -2988314387397018174, 3137277690373446948, 2520058264841021033, -3720220357680537981, 1736396359395521421)
   testcase(40, -200358894957829091, 1260069114991125766, 2533064624553509112, -99668225201562944, 481838912631087022)
   testcase(41, -1977235524432958780, 7544110906037695868, 2735401158574041866, -5453124868695959452, 2698688697466096392)
   testcase(42, 4031453606943167180, -2148219172449231466, 7700971629089594522, -1124591330600545788, 3578706793860487456)
   testcase(43, 7489030198086705006, 5529341846400466747, 4102520313706689843, 10093650950340709277, 2432909117229661971)
   testcase(44, -8325044726737727779, 8260693075799743371, 3743531053914947976, -18370527274767991030, 624789180626852271)
   testcase(45, -8355162667702200774, 1414052637838892656, -5578952908992280368, 2117716353331148780, -1234183085064964704)
   testcase(46, 8937975854694259142, -7194571063071952945, -6822115187626651663, 9425947917626729641, -1399216956076030207)
   testcase(47, 5750541372116994263, -6899666617708663672, -3074242625209805804, 12906209163058625572, -2148877301752093848)
   testcase(48, -1267708417165800687, -1347680028770160225, 3773254315838089511, 452782975413812754, 3211165291759651281)
   testcase(49, -3924591069874366310, -5361680718131002047, -6124004953493046814, -3436052783381929952, -3742072364566936358)
   testcase(50, 2694363096794590267, -2961733402937442734, -6227213926364297898, 1281469574962482437, -2799222227645252552)
   testcase(51, 4291852085551914803, 7748634199739299307, 9172803078596448181, 3625499377385367390, 9044221787598723931)
   testcase(52, 1546070956077170344, 8772036003843464310, -4629245592479957442, -2929676082262067581, -370870658853465162)
   testcase(53, -2913983858594262936, -8364097022648017076, 8684560315788986824, 2806456841735734730, 5060640388232697616)
   testcase(54, 5329414013191960358, -8671950222932797711, 6426611716335947735, -7191412065913779278, 1178142000188894792)
   testcase(55, 7205075007378571563, -6647002637075542104, 204948933678646017, -233678466702666295295, 115370365714001463)
   testcase(56, 5365153411896158775, 1346430544767884552, -8340389630836706361, -866123376830529274, -8047155531090768114)
   testcase(57, 5246015027742491593, 7002248913195258856, -7940957706352784854, -4625878185603311881, -7006458689816252766)
   testcase(58, -4458975178471176890, -3051985596022220240, -694349406480531446, -19599250594442914292, -155374897610572632)
   testcase(59, 7483876191739171644, 232759962336196233, -1723090308512783628, -1010943379991183884, -390645398799434100)
   testcase(60, 2878616254644188037, 4019197672892920528, -4474734249362518650, -2585567568278698651, -2469054059588017614)
   testcase(61, 3293469995965299882, 2671226729901162833, -6160006025448095151, -1428181247064611899, -421942861281116043)
   testcase(62, 7214377679111689034, 8823116516616180038, -9164461977112280701, -6945666315889346066, -7108797797507768974)
   testcase(63, -7603859651826179805, -859959362616657877, -1115350549558377093, -5862740016759828522, -825507285721272561)
   testcase(64, -8785202475280002038, 5019231365743008478, 5259591715761918179, -8383723718741311425, 1714183239916616911)
   testcase(65, 7225652662550924646, 2431808824498039911, 2401996095702729852, 7315334916232822638, 2157329387717556930)
   testcase(66, 2259402972151849472, 2641625958954737388, -232659142655451754, -25653397819894171956, -177345174671351688)
   testcase(67, 8573800535906996152, -8830736930564416764, -3556722634248074905, 21287287431040667679, -2957731761467796633)
   testcase(68, -3385434178125668820, 7618999881100630008, 6074882768509072310, -4245945738133787541, 5386745902184139150)
   testcase(69, 1865540244785749039, -7834435117220955364, -6953981025486490006, 2101739126519398930, -2237726449352801616)
   testcase(70, 5304940532974751706, -5371711136960256830, 4777249875380158283, -5965065442515645111, 3190450411794452433)
   testcase(71, 3289774870401356368, -8646491478302254263, -234358640936387086, 121373849365252015589, -13990894199913130)
   testcase(72, 576068634540265405, -5302096651130700749, -4512594985352772288, 676854800382357184, -2939688955459371353)
   testcase(73, 1650890307718126336, -1858265731064585418, 7462072917838102634, -411118052363934478, 103980307027846604)
   testcase(74, 554013344555992019, 6305630487228132790, -1577173419779485430, -2214977371513097239, -1061373469461524760)
   testcase(75, 6850871432713480157, 6692503072386569711, -630528533339754205, -72715944937665173946, -105658674114218303)
   testcase(76, -2956982835026768486, -4699470990274760449, -744863820361711601, -18656101520947262488, -74284534869313074)
   testcase(77, 753450283675853669, -2892519136826086624, -8963914818374341321, 243126960523113473, -218858189226505623)
   testcase(78, 227076792610052010, 4866569483809306110, -9079790114334935857, -121708208612960591, -2981785341743030387)
   testcase(79, 4038539337103715228, 5256062534800800654, 5855526045160960249, 3625091091962960103, 1231026780456213465)
   testcase(80, 3483836220753677295, -7596120793632930118, 7008337653903687888, -3776022512747820841, 1208163511147402998)
   testcase(81, -2089687929852618045, -6803434576660231488, -5443847433080388775, -2611582211139255502, -2002344917671789090)
   testcase(82, 4369288373544422285, 4887030058550665799, 1190366627490637875, 17938039527368621182, 887054537146462465)
   testcase(83, 2016946957294342662, 8882107325487665798, 7198138148568602879, 2488801822741704804, 4764172668227143560)
   testcase(84, 2534688080234307856, 6795336764523888695, 7370904138370088228, 2336763411228596785, 1950001803820940940)
   testcase(85, 7898280211547734395, 6673362198086184383, -73413970116865641, -717957147798031899147, -38868848380554942)
   testcase(86, 5658309200501675116, 8297726796036352302, 3476253280011401218, 13506237920934170612, 844579178526111616)
   testcase(87, 8592176444338594680, 3068763475369677095, -112361441076162356, -234665531109068821868, -34932349926346408)
   testcase(88, 328083552046217704, 5557747117510381437, 4947508877311967510, 368550205952962044, 2714574916191170208)
   testcase(89, -5451127452707900721, -137013023133195182, 1835343108915991762, 406940505103151958, 1446103194609356226)
   testcase(90, -7565616188386708026, 1751511436923124585, 4806745122584136068, -2756805893258200107, 3443453771242740066)
   testcase(91, 8991141557806692106, 422583696360902732, -6769318011468687811, -561283991617011682, -2641649172659774510)
   testcase(92, -8437330754953979926, 6140595226366303459, -5688180362554280445, 9108401923788259678, -5449901412612967324)
   testcase(93, -3391515806225683588, -7425933835195592174, -9068479252973557038, -2777221105710060040, -2132016851731521208)
   testcase(94, 4263676019618030733, -3476478248804501279, -266193923125747967, 55683378373552751227, -170112045107801998)
   testcase(95, -3974693375185692245, -5197312575862005124, 5930477648309208183, 3483315356552698317, 5486026635330335369)
   testcase(96, -1861381078029500566, 3362328974893124373, 398332921549518265, -15711921343660173224, 226153391140041242)
   testcase(97, -3907419669925866251, 421290207047808053, -3694310382304705412, 445592673980681110, -2797413139135551983)
   testcase(98, -8958665881923295771, 7404609184692282439, -7670431586545173457, 8648199116753565932, -4167689763040398545)
   testcase(99, 804875746232948799, -678443998365157662, -3728372835369586617, 146461511113142619, -1644418143013818015)
$)